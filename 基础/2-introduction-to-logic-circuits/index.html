<!doctype html><html lang=zh class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.104.3"><meta name=description content="My Verilog Learning Note"><meta name=author content="Todd Zhou"><link rel=icon href=/images/favicon.png type=image/png><title>Introduction to Logic Circuits | 我的Verilog学习笔记</title><link href=/css/nucleus.css?1666318554 rel=stylesheet><link href=/css/fontawesome-all.min.css?1666318554 rel=stylesheet><link href=/css/hybrid.css?1666318554 rel=stylesheet><link href=/css/featherlight.min.css?1666318554 rel=stylesheet><link href=/css/perfect-scrollbar.min.css?1666318554 rel=stylesheet><link href=/css/auto-complete.css?1666318554 rel=stylesheet><link href=/css/atom-one-dark-reasonable.css?1666318554 rel=stylesheet><link href=/css/theme.css?1666318554 rel=stylesheet><link href=/css/tabs.css?1666318554 rel=stylesheet><link href=/css/hugo-theme.css?1666318554 rel=stylesheet><link href=/css/theme-red.css?1666318554 rel=stylesheet><script src=/js/jquery-3.3.1.min.js?1666318554></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style><style type=text/css>.goat{max-width:20rem;margin:0 auto}</style><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]},displayMath:[["$$","$$"],["\\[","\\]"]],svg:{fontCache:"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg-full.js></script></head><body data-url=/%E5%9F%BA%E7%A1%80/2-introduction-to-logic-circuits/><nav id=sidebar class=showVisitedLinks><div id=header-wrapper><div id=header><svg width="128" height="48" xmlns="http://www.w3.org/2000/svg" p-id="788" class="icon" t="1656056395349"><g><title>Layer 1</title><path stroke="null" id="svg_1" fill="#fff" p-id="789" d="m48.41434 31.54977H4.52092V11.79773h43.89342v19.75204zm-41.69875-2.19467h39.50408V13.9924h-39.50408v15.3627zm4.38934-15.3627h-2.19467V8.50572h2.19467v5.48668zm6.58401.0h-2.19467V8.50572h2.19467v5.48668zm6.58401.0h-2.19467V8.50572h2.19467v5.48668zm6.58401.0h-2.19467V8.50572h2.19467v5.48668zm6.58401.0H35.2463V8.50572h2.19467v5.48668zm6.58401.0h-2.19467V8.50572h2.19467v5.48668zM11.10492 34.84177h-2.19467v-5.48668h2.19467v5.48668zm6.58401.0h-2.19467v-5.48668h2.19467v5.48668zm6.58401.0h-2.19467v-5.48668h2.19467v5.48668zm6.58401.0h-2.19467v-5.48668h2.19467v5.48668zm6.58401.0h-2.19467v-5.48668h2.19467v5.48668zm6.58401.0H41.8303v-5.48668h2.19467v5.48668zm4.38934 13.16803h-48.28276v-48.28276h2.19467v46.08809h46.08809v2.19467zm0-4.38934h-2.19467v-.54867l-4.38934-3.29201v-2.74334h2.19467v1.646l4.38934 3.29201v1.646zm-4.38934.0H41.8303v-1.646l4.38934-3.29201v-1.646h2.19467v2.74334l-4.38934 3.29201v.54867zm-36.21207-38.68107-3.29201-2.469v-2.74334h2.19467v1.646l1.09734.823 1.09734-.823v-1.646h2.19467v2.74334l-3.29201 2.469zm1.09734 1.37167h-2.19467V3.01905h2.19467v3.29201zm2.19467 24.14138h-2.19467v-7.03831l4.71086-4.71086 1.55163 1.55163-4.06782 4.06782v6.12972zm8.45716-5.8082-1.55163-1.55163 4.06782-4.06782v-6.12972h2.19467v7.03831l-4.71086 4.71086zm-1.87315-6.26249a2.19467 2.19467.0 11-2.19467-2.19467 2.19467 2.19467.0 012.19467 2.19467zm13.16802.0a2.19467 2.19467.0 11-2.19467-2.19467 2.19467 2.19467.0 012.19467 2.19467zm13.16803 6.58401a2.19467 2.19467.0 11-2.19467-2.19467 2.19467 2.19467.0 012.19467 2.19467zm-24.14138.0a2.19467 2.19467.0 11-2.19467-2.19467 2.19467 2.19467.0 012.19467 2.19467zm7.68135.0a2.19467 2.19467.0 11-2.19467-2.19467 2.19467 2.19467.0 012.19467 2.19467zm8.77868.0a2.19467 2.19467.0 11-2.19467-2.19467 2.19467 2.19467.0 012.19467 2.19467zm3.61353-.32152-5.16516-5.16516h-6.12972v-2.19467h7.03831l5.8082 5.8082-1.55163 1.55163zm-5.8082 1.41885h-8.77868v-2.19467h8.77868v2.19467z"/><text font-weight="bold" transform="matrix(0.795614 0 0 0.795614 4.03875 -10.0944)" stroke="null" text-anchor="start" font-family="sans-serif" font-size="24" stroke-width="0" id="svg_2" y="35.70575" x="65.73177" fill="#fff">Verilog</text><text font-weight="bold" transform="matrix(0.795614 0 0 0.795614 4.03875 -11.2786)" stroke="null" text-anchor="start" font-family="sans-serif" font-size="24" stroke-width="0" id="svg_3" y="67.62416" x="66.06253" fill="#fff">Note</text></g></svg></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=/js/lunr.min.js?1666318554></script>
<script type=text/javascript src=/js/auto-complete.js?1666318554></script>
<script type=text/javascript>var baseurl="/"</script><script type=text/javascript src=/js/search.js?1666318554></script></div><div class=highlightable><ul class=topics><li data-nav-id=/%E5%9F%BA%E7%A1%80/ title=基础 class="dd-item
parent"><a href=/%E5%9F%BA%E7%A1%80/><b>1. </b>基础
<i class="fas fa-check read-icon"></i></a><ul><li data-nav-id=/%E5%9F%BA%E7%A1%80/1-verilog-basics/ title=简介 class=dd-item><a href=/%E5%9F%BA%E7%A1%80/1-verilog-basics/>简介
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/%E5%9F%BA%E7%A1%80/%E5%8D%81%E5%88%86%E9%92%9F%E8%AF%AD%E6%B3%95%E5%85%A5%E9%97%A8/ title=十分钟语法入门 class=dd-item><a href=/%E5%9F%BA%E7%A1%80/%E5%8D%81%E5%88%86%E9%92%9F%E8%AF%AD%E6%B3%95%E5%85%A5%E9%97%A8/>十分钟语法入门
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/%E5%9F%BA%E7%A1%80/1-introduction/ title=Introduction class=dd-item><a href=/%E5%9F%BA%E7%A1%80/1-introduction/>Introduction
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/%E5%9F%BA%E7%A1%80/2-introduction-to-logic-circuits/ title="Introduction to Logic Circuits" class="dd-item active"><a href=/%E5%9F%BA%E7%A1%80/2-introduction-to-logic-circuits/>Introduction to Logic Circuits
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/%E5%9F%BA%E7%A1%80/2.1-strategy-for-minimization/ title="Strategy for Minimization" class=dd-item><a href=/%E5%9F%BA%E7%A1%80/2.1-strategy-for-minimization/>Strategy for Minimization
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/%E5%9F%BA%E7%A1%80/3-number-and-arithmetic/ title="Number Representation and Arithmetic Circuits" class=dd-item><a href=/%E5%9F%BA%E7%A1%80/3-number-and-arithmetic/>Number Representation and Arithmetic Circuits
<i class="fas fa-check read-icon"></i></a></li></ul></li><li data-nav-id=/%E5%AE%9E%E9%AA%8C/ title=实验 class=dd-item><a href=/%E5%AE%9E%E9%AA%8C/><b>2. </b>实验
<i class="fas fa-check read-icon"></i></a></li><li data-nav-id=/%E5%B7%A5%E5%85%B7/ title=工具 class=dd-item><a href=/%E5%B7%A5%E5%85%B7/><b>3. </b>工具
<i class="fas fa-check read-icon"></i></a></li></ul><section id=shortcuts><h3></h3><ul><li><a class=padding href=https://github.com/matcornic/hugo-theme-learn><i class='fab fa-fw fa-github'></i> GitHub 仓库</a></li><li><a class=padding href=/showcase><i class='fas fa-fw fa-camera'></i> 展示区</a></li><li><a class=padding href=https://gohugo.io/><i class='fas fa-fw fa-bookmark'></i> Hugo 文档</a></li><li><a class=padding href=/credits><i class='fas fa-fw fa-bullhorn'></i> 鸣谢</a></li></ul></section><section id=prefooter><hr><ul><li><a class=padding href=# data-clear-history-toggle><i class="fas fa-history fa-fw"></i></a></li></ul></section><section id=footer><p>For a Better Future 🔆</p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=top-github-link><a class=github-link title href=https://github.com/TZ-Verilog/TZ-Verilog.github.io/edit/main/content/%e5%9f%ba%e7%a1%80/2-Introduction-to-Logic-Circuits/index.md target=blank><i class="fas fa-code-branch"></i>
<span id=top-github-link-text></span></a></div><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=/>Learn Theme for Hugo</a> > <a href=/%E5%9F%BA%E7%A1%80/>基础</a> > Introduction to Logic Circuits</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#逻辑表达式>逻辑表达式</a></li><li><a href=#真值表>真值表</a></li><li><a href=#逻辑门>逻辑门</a><ul><li><a href=#逻辑电路的分析>逻辑电路的分析</a></li></ul></li><li><a href=#布尔代数>布尔代数</a><ul><li><a href=#公理>公理</a></li><li><a href=#定理>定理</a></li><li><a href=#例子>例子</a></li><li><a href=#韦恩图>韦恩图</a></li></ul></li><li><a href=#用与或非门综合>用与/或/非门综合</a><ul><li><a href=#积的和和的积>积的和、和的积</a></li><li><a href=#只包含-nand-或-nor-的逻辑电路>只包含 NAND 或 NOR 的逻辑电路</a></li></ul></li><li><a href=#设计示例>设计示例</a><ul><li><a href=#双输入选择器>双输入选择器</a></li></ul></li><li><a href=#cad工具简介>CAD工具简介</a><ul><li><a href=#design-entry>Design Entry</a></li><li><a href=#logic-synthesis>Logic Synthesis</a></li><li><a href=#functional-simulation>Functional Simulation</a></li><li><a href=#physical-design>Physical Design</a></li><li><a href=#timing-simulation>Timing Simulation</a></li><li><a href=#circuit-implementation>Circuit Implementation</a></li></ul></li><li><a href=#verilog-简介>Verilog 简介</a><ul><li><a href=#structural-specification-of-logic-circuits>Structural Specification of Logic Circuits</a></li><li><a href=#behavioral-specification-of-logic-circuits>Behavioral Specification of Logic Circuits</a></li><li><a href=#verilog-的层级>Verilog 的层级</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>Introduction to Logic Circuits</h1><p>本章会介绍：</p><ul><li>逻辑表达式和电路</li><li>布尔运算</li><li>逻辑门和简单电路的综合</li><li>CAD 和 VerilogHDL</li><li>逻辑表达式的化简与卡诺图（Karnaugh maps)</li></ul><h2 id=逻辑表达式>逻辑表达式</h2><p>考虑一个简单的开关电路</p><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 160 153"><g transform="translate(8,16)"><path d="M48 32H64" fill="none" stroke="currentcolor"/><path d="M64 32H80" fill="none" stroke="currentcolor"/><path d="M16 48H48" fill="none" stroke="currentcolor"/><path d="M80 48h48" fill="none" stroke="currentcolor"/><path d="M0 64H16" fill="none" stroke="currentcolor"/><path d="M16 64H32" fill="none" stroke="currentcolor"/><path d="M48 64H64" fill="none" stroke="currentcolor"/><path d="M64 64H80" fill="none" stroke="currentcolor"/><path d="M112 64h16" fill="none" stroke="currentcolor"/><path d="M128 64h16" fill="none" stroke="currentcolor"/><path d="M8 96h8" fill="none" stroke="currentcolor"/><path d="M16 96h8" fill="none" stroke="currentcolor"/><path d="M112 96h16" fill="none" stroke="currentcolor"/><path d="M128 96h16" fill="none" stroke="currentcolor"/><path d="M16 128H128" fill="none" stroke="currentcolor"/><path d="M16 48V64" fill="none" stroke="currentcolor"/><path d="M16 96v16" fill="none" stroke="currentcolor"/><path d="M16 112v16" fill="none" stroke="currentcolor"/><path d="M48 32V48" fill="none" stroke="currentcolor"/><path d="M48 48V64" fill="none" stroke="currentcolor"/><path d="M64 16V32" fill="none" stroke="currentcolor"/><path d="M80 32V48" fill="none" stroke="currentcolor"/><path d="M80 48V64" fill="none" stroke="currentcolor"/><path d="M112 64V96" fill="none" stroke="currentcolor"/><path d="M128 48V64" fill="none" stroke="currentcolor"/><path d="M128 96v32" fill="none" stroke="currentcolor"/><path d="M144 64V96" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="64" y="4" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="64" y="52" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="128" y="84" fill="currentcolor" style="font-size:1em">L</text></g></svg></div><p>S 表示这是一个开关，x是外部的输入信号，L表示灯。当 x=0 时，L=0；x=1时，L=1. 所以我们可以写成：</p><p>$$
L(x)=x
$$</p><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 200 153"><g transform="translate(8,16)"><path d="M48 32H64" fill="none" stroke="currentcolor"/><path d="M64 32H80" fill="none" stroke="currentcolor"/><path d="M104 32h16" fill="none" stroke="currentcolor"/><path d="M120 32h16" fill="none" stroke="currentcolor"/><path d="M16 48H48" fill="none" stroke="currentcolor"/><path d="M80 48h24" fill="none" stroke="currentcolor"/><path d="M136 48h32" fill="none" stroke="currentcolor"/><path d="M0 64H16" fill="none" stroke="currentcolor"/><path d="M16 64H32" fill="none" stroke="currentcolor"/><path d="M48 64H64" fill="none" stroke="currentcolor"/><path d="M64 64H80" fill="none" stroke="currentcolor"/><path d="M104 64h16" fill="none" stroke="currentcolor"/><path d="M120 64h16" fill="none" stroke="currentcolor"/><path d="M152 64h16" fill="none" stroke="currentcolor"/><path d="M168 64h16" fill="none" stroke="currentcolor"/><path d="M8 96h8" fill="none" stroke="currentcolor"/><path d="M16 96h8" fill="none" stroke="currentcolor"/><path d="M152 96h16" fill="none" stroke="currentcolor"/><path d="M168 96h16" fill="none" stroke="currentcolor"/><path d="M16 128H168" fill="none" stroke="currentcolor"/><path d="M16 48V64" fill="none" stroke="currentcolor"/><path d="M16 96v16" fill="none" stroke="currentcolor"/><path d="M16 112v16" fill="none" stroke="currentcolor"/><path d="M48 32V48" fill="none" stroke="currentcolor"/><path d="M48 48V64" fill="none" stroke="currentcolor"/><path d="M64 16V32" fill="none" stroke="currentcolor"/><path d="M80 32V48" fill="none" stroke="currentcolor"/><path d="M80 48V64" fill="none" stroke="currentcolor"/><path d="M104 32V48" fill="none" stroke="currentcolor"/><path d="M104 48V64" fill="none" stroke="currentcolor"/><path d="M120 16V32" fill="none" stroke="currentcolor"/><path d="M136 32V48" fill="none" stroke="currentcolor"/><path d="M136 48V64" fill="none" stroke="currentcolor"/><path d="M152 64V96" fill="none" stroke="currentcolor"/><path d="M168 48V64" fill="none" stroke="currentcolor"/><path d="M168 96v32" fill="none" stroke="currentcolor"/><path d="M184 64V96" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="56" y="4" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="64" y="4" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="64" y="52" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="120" y="4" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="120" y="52" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="128" y="4" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="168" y="84" fill="currentcolor" style="font-size:1em">L</text></g></svg></div><p>只有当 $x_1,x_2$ 同时为 1 时，L 才等于 1. 上面的电路则可以写成：</p><p>$$
L(x_1,x_2)=x_1\cdot x_2
$$</p><p>符号 $\cdot$ 称为 <strong>与（AND）</strong>。</p><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 184 201"><g transform="translate(8,16)"><path d="M64 32H80" fill="none" stroke="currentcolor"/><path d="M80 32H96" fill="none" stroke="currentcolor"/><path d="M16 48H64" fill="none" stroke="currentcolor"/><path d="M96 48h56" fill="none" stroke="currentcolor"/><path d="M0 64H16" fill="none" stroke="currentcolor"/><path d="M16 64H32" fill="none" stroke="currentcolor"/><path d="M64 64H80" fill="none" stroke="currentcolor"/><path d="M80 64H96" fill="none" stroke="currentcolor"/><path d="M136 64h16" fill="none" stroke="currentcolor"/><path d="M152 64h16" fill="none" stroke="currentcolor"/><path d="M8 96h8" fill="none" stroke="currentcolor"/><path d="M16 96h8" fill="none" stroke="currentcolor"/><path d="M64 96H80" fill="none" stroke="currentcolor"/><path d="M80 96H96" fill="none" stroke="currentcolor"/><path d="M136 96h16" fill="none" stroke="currentcolor"/><path d="M152 96h16" fill="none" stroke="currentcolor"/><path d="M64 128H80" fill="none" stroke="currentcolor"/><path d="M80 128H96" fill="none" stroke="currentcolor"/><path d="M16 176H152" fill="none" stroke="currentcolor"/><path d="M16 48V64" fill="none" stroke="currentcolor"/><path d="M16 96v16" fill="none" stroke="currentcolor"/><path d="M16 112v64" fill="none" stroke="currentcolor"/><path d="M64 32V48" fill="none" stroke="currentcolor"/><path d="M64 48V64" fill="none" stroke="currentcolor"/><path d="M64 96v32" fill="none" stroke="currentcolor"/><path d="M80 16V32" fill="none" stroke="currentcolor"/><path d="M80 64V96" fill="none" stroke="currentcolor"/><path d="M80 128v16" fill="none" stroke="currentcolor"/><path d="M96 32V48" fill="none" stroke="currentcolor"/><path d="M96 48V64" fill="none" stroke="currentcolor"/><path d="M96 96v32" fill="none" stroke="currentcolor"/><path d="M136 64V96" fill="none" stroke="currentcolor"/><path d="M152 48V64" fill="none" stroke="currentcolor"/><path d="M152 96v80" fill="none" stroke="currentcolor"/><path d="M168 64V96" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="80" y="4" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="80" y="52" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="80" y="116" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="80" y="164" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="88" y="4" fill="currentcolor" style="font-size:1em">1</text><text text-anchor="middle" x="88" y="164" fill="currentcolor" style="font-size:1em">2</text><text text-anchor="middle" x="152" y="84" fill="currentcolor" style="font-size:1em">L</text></g></svg></div><p>当 $x_1$ 或 $x_2$ 为 1 时，L 为 1. 上面的电路可以写成：</p><p>$$
L(x_1,x_2)=x_1+x_2
$$</p><p>符号 $+$ 称为 <strong>或（OR）</strong>。</p><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 208 169"><g transform="translate(8,16)"><path d="M48 0h56" fill="none" stroke="currentcolor"/><path d="M16 16H48" fill="none" stroke="currentcolor"/><path d="M104 16h40" fill="none" stroke="currentcolor"/><path d="M0 32H16" fill="none" stroke="currentcolor"/><path d="M16 32H32" fill="none" stroke="currentcolor"/><path d="M48 32h56" fill="none" stroke="currentcolor"/><path d="M112 48h32" fill="none" stroke="currentcolor"/><path d="M144 48h32" fill="none" stroke="currentcolor"/><path d="M8 64h8" fill="none" stroke="currentcolor"/><path d="M16 64h8" fill="none" stroke="currentcolor"/><path d="M96 64h16" fill="none" stroke="currentcolor"/><path d="M112 64h16" fill="none" stroke="currentcolor"/><path d="M160 64h16" fill="none" stroke="currentcolor"/><path d="M176 64h16" fill="none" stroke="currentcolor"/><path d="M88 80h8" fill="none" stroke="currentcolor"/><path d="M96 96h16" fill="none" stroke="currentcolor"/><path d="M112 96h16" fill="none" stroke="currentcolor"/><path d="M160 96h16" fill="none" stroke="currentcolor"/><path d="M176 96h16" fill="none" stroke="currentcolor"/><path d="M112 112h32" fill="none" stroke="currentcolor"/><path d="M144 112h32" fill="none" stroke="currentcolor"/><path d="M16 144H144" fill="none" stroke="currentcolor"/><path d="M16 16V32" fill="none" stroke="currentcolor"/><path d="M16 64V80" fill="none" stroke="currentcolor"/><path d="M16 80v64" fill="none" stroke="currentcolor"/><path d="M48 0V16" fill="none" stroke="currentcolor"/><path d="M48 16V32" fill="none" stroke="currentcolor"/><path d="M96 64V80" fill="none" stroke="currentcolor"/><path d="M96 80V96" fill="none" stroke="currentcolor"/><path d="M104 0V16" fill="none" stroke="currentcolor"/><path d="M104 16V32" fill="none" stroke="currentcolor"/><path d="M112 48V64" fill="none" stroke="currentcolor"/><path d="M112 96v16" fill="none" stroke="currentcolor"/><path d="M128 64V96" fill="none" stroke="currentcolor"/><path d="M144 16V48" fill="none" stroke="currentcolor"/><path d="M144 112v32" fill="none" stroke="currentcolor"/><path d="M160 64V96" fill="none" stroke="currentcolor"/><path d="M176 48V64" fill="none" stroke="currentcolor"/><path d="M176 96v16" fill="none" stroke="currentcolor"/><path d="M192 64V96" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="72" y="84" fill="currentcolor" style="font-size:1em">x</text><text text-anchor="middle" x="112" y="84" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="176" y="84" fill="currentcolor" style="font-size:1em">L</text></g></svg></div><p>当 x=0 时，L 为 1. 上面的电路可以写成：</p><p>$$
L(x)=\overline{x}
$$</p><p>上划线表示 <strong>非（NOT）</strong>，有一些其他表示方法，比如：</p><p>$$
\overline{x}=x&rsquo;=!x=\sim x={\rm NOT}; x
$$</p><h2 id=真值表>真值表</h2><p>我们介绍了基本的逻辑表达式，并给出了它们的电路定义，下面我们将给出了它们的真值表：</p><table><thead><tr><th style=text-align:center>$x_1,x_2$</th><th style=text-align:center>$x_1\cdot x_2$</th><th style=text-align:center>$x_1+x_2$</th></tr></thead><tbody><tr><td style=text-align:center>0 0</td><td style=text-align:center>0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>0 1</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 0</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 1</td><td style=text-align:center>1</td><td style=text-align:center>1</td></tr></tbody></table><p>真值表的最左边给出所有的输入组合，而右边则给出逻辑表达式的输出。真值表可以直观地展示出逻辑表达式。真值表会随着输入指数增长，比如当输入有 3 个，则真值表有 8 行。</p><table><thead><tr><th style=text-align:center>$x_1,x_2,x_3$</th><th style=text-align:center>$x_1\cdot x_2 \cdot x_3$</th><th style=text-align:center>$x_1+x_2+x_3$</th></tr></thead><tbody><tr><td style=text-align:center>0 0 0</td><td style=text-align:center>0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>0 0 1</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>0 1 0</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>0 1 1</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 0 0</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 0 1</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 1 0</td><td style=text-align:center>0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 1 1</td><td style=text-align:center>1</td><td style=text-align:center>1</td></tr></tbody></table><p>与和或都可以接受多个输入，与只有在输入都为 1 时才为 1，而或在输入中有一个为 1 时就为 1.</p><h2 id=逻辑门>逻辑门</h2><p>逻辑表达式在电路中可以通过晶体管/MOS管来实现，这在电路中可以用逻辑门来表示：</p><p><img src=images/logic%20gate.svg alt="logic gate"></p><p>通过组合逻辑门可以得到逻辑电路。</p><h3 id=逻辑电路的分析>逻辑电路的分析</h3><h4 id=例一>例一</h4><p>对于给定的逻辑电路，我们可以想象给定输入后得到什么输出，比如下面这个电路：$f=\overline{x}_1+x_1\cdot x_2$</p><p><img src=images/logic%20circuit.svg alt="logic circuit"></p><p>其真值表为：</p><table><thead><tr><th style=text-align:center>$x_1, x_2$</th><th style=text-align:center>$A,B$</th><th style=text-align:center>$f(x_1,x_2)$</th></tr></thead><tbody><tr><td style=text-align:center>0 0</td><td style=text-align:center>1 0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>0 1</td><td style=text-align:center>1 0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 0</td><td style=text-align:center>0 0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>1 1</td><td style=text-align:center>0 1</td><td style=text-align:center>1</td></tr></tbody></table><p>其时序图为：</p><p><img src=images/time%20diagram.svg alt="time diagram"></p><p>时序图可以用于在实际电路中，通过逻辑分析仪，来观察其实际工作情况。</p><p>上面的逻辑表达式实际上等价于 $g=\overline{x}_1+x_2$，它们有相同的真值表。</p><h4 id=例二>例二</h4><p>考虑下面的逻辑电路：</p><p><img src=images/xor%20circuit.svg alt="xor circuit"></p><table><thead><tr><th style=text-align:center>$x,y$</th><th style=text-align:center>L</th></tr></thead><tbody><tr><td style=text-align:center>0 0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>0 1</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 1</td><td style=text-align:center>0</td></tr></tbody></table><p>只有当 x,y 不相同时，输出才为 1。我们把这个称为 <strong>异或（XOR）</strong>，记为 $x \oplus y$，用下面的逻辑门来表示：</p><p><img src=images/xor%20gate.svg alt="xor gate"></p><p>对异或门取反可以得到 <strong>同或（NAND）</strong>，记为 $x \odot y$，用下面的逻辑门来表示：</p><p><img src=images/nand%20gate.svg alt="nand gate"></p><h4 id=例三>例三</h4><p>在上一节我们介绍了二进制数，考虑两个一位的二进制数相加，则可能有四种结果；</p><p>$$
\begin{array}{r}
a\
+b\
\hline
s_1s_0
\end{array}
$$</p><table><thead><tr><th style=text-align:center>$a,b$</th><th style=text-align:center>$s_1s_0$</th></tr></thead><tbody><tr><td style=text-align:center>0 0</td><td style=text-align:center>0 0</td></tr><tr><td style=text-align:center>0 1</td><td style=text-align:center>0 1</td></tr><tr><td style=text-align:center>1 0</td><td style=text-align:center>0 1</td></tr><tr><td style=text-align:center>1 1</td><td style=text-align:center>1 0</td></tr></tbody></table><p>注意到 $s_0=a\oplus b$，$s_1=a\odot b$，所以可以画出如下逻辑电路：</p><p><img src=images/add.svg alt="addition of binary numbers"></p><p>这个电路称为 <strong>半加器</strong>。</p><h2 id=布尔代数>布尔代数</h2><p>George Boole 在 1849 年发表了用代数描述逻辑推理的方法，被后人称为 Boolean Algebra.</p><h3 id=公理>公理</h3><p>假设有如下公理：</p><ol><li>$0\cdot 0=0$</li><li>$1+1=1$</li><li>$1\cdot 1=1$</li><li>$0+0=0$</li><li>$0\cdot 1=1\cdot 0=0$</li><li>$1+0=0+1=1$</li><li>If $x=0$, then $\overline{x}=1$</li><li>If $x=1$, then $\overline{x}=0$</li></ol><h3 id=定理>定理</h3><h4 id=单变量定理>单变量定理</h4><ol><li>$x\cdot 0=0$</li><li>$x+1=1$</li><li>$x\cdot 1=0$</li><li>$x+0=x$</li><li>$x\cdot x=x$</li><li>$x+x=x$</li><li>$x\cdot\overline{x}=0$</li><li>$x+\overline{x}=1$</li><li>$\overline{\overline{x}}=x$</li></ol><p>以上定理很容易证明，只需要代入 0 或 1 即可。</p><h4 id=对偶>对偶</h4><p>某个逻辑表达式的 <strong>对偶式</strong> 可以通过将 与/或 互换，0/1 互换来得到。观察上面的公理和定理，可以发现一些式子是对偶的。比如：</p><p>$$
x+0=x \leftrightarrow x\cdot 1=x
$$</p><p>如果一个逻辑表达式是正确的，其对偶式也是正确的，它们的结果是一样的。因此，一般有两种方法来表示同一个逻辑表达式，通常其中一种会更简单。</p><h4 id=多变量定理>多变量定理</h4><p>交换率（Commutative）</p><ul><li>$x\cdot y = y\cdot x$</li><li>$x+y=y+x$</li></ul><p>结合率（Associative）</p><ul><li>$x\cdot(y\cdot z)=(x\cdot y)\cdot z$</li><li>$x+(y+z)=(x+y)+z$</li></ul><p>分配律（Distributive）</p><ul><li>$x\cdot(y+z)=x\cdot y+x\cdot z$</li><li>$x+y\cdot z=(x+y)\cdot(x+z)$</li></ul><p>吸收率（Absorption）</p><ul><li>$x+x\cdot y=x$</li><li>$x\cdot(x+y)=x$</li><li>$x\cdot y+x\cdot\overline{y}=x$</li><li>$(x+y)\cdot(x+\overline{y})=x$</li></ul><p>德·摩根定律（DeMorgan&rsquo;s theorem）</p><ul><li>$\overline{x\cdot y}=\overline{x}+\overline{y}$</li><li>$\overline{x+y}=\overline{x}\cdot\overline{y}$</li><li>$x+\overline{x}\cdot y=x+y$</li><li>$x\cdot(\overline{x}+y)=x\cdot y$</li></ul><p>共识定理（Consensus）</p><ul><li>$x\cdot y+y\cdot z+\overline{x}\cdot z=x\cdot y+\overline{x}\cdot z$</li><li>$(x+y)\cdot(y+z)\cdot(\overline{x}+z)=(x+y)\cdot(\overline{x}+z)$</li></ul><h3 id=例子>例子</h3><p>证明以下逻辑表达式：</p><p>$$
(x_1+x_2)\cdot(\overline{x}+\overline{x}_2)=x_1\cdot\overline{x}_2+\overline{x}_1\cdot x_2
$$</p><p>展开等式左边：</p><p>$$
\begin{align}
{\rm LHS} &= (x_1+x_2)\cdot\overline{x}_1+(x_1+x_2)\cdot\overline{x}_2\
&=x_1\cdot\overline{x}_1+x_2\cdot\overline{x}_1+x_1\cdot\overline{x}_2+x_2\cdot\overline{x}_2\
&=0+x_2\cdot\overline{x}_1+x_1\cdot\overline{x}_2+0\
&=x_2\cdot\overline{x}_1+x_1\cdot\overline{x}_2
\end{align}
$$</p><h3 id=韦恩图>韦恩图</h3><p>韦恩图也可以用于证明逻辑表达式的正确性。这里就不花了，有兴趣的话可以试着证明一下共识定理。</p><h2 id=用与或非门综合>用与/或/非门综合</h2><p>有了以上知识，我们可以尝试用与/或/非门得到所希望的逻辑功能。考虑下面的真值表：</p><table><thead><tr><th style=text-align:center>$x_1,x_2$</th><th style=text-align:center>$f(x_1,x_2)$</th></tr></thead><tbody><tr><td style=text-align:center>0 0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>0 1</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>1 1</td><td style=text-align:center>1</td></tr></tbody></table><p>要写出逻辑表达式，我们可以将 $f=1$ 的行相加：</p><p>$$
f(x_1,x_2)=x_1x_2+\overline{x}_1x_2+\overline{x}_1\overline{x}_2
$$</p><blockquote><p>注：以后我们写逻辑表达式时将省略 $\cdot$ 号。</p></blockquote><p>但这样得到的式子并不是最简的。我们可以采取下面的化简方式：</p><p>$$
\begin{align}
f(x_1,x_2) &= x_1x_2 + \overline{x}_1x_2+ \overline{x}_1x_2+\overline{x}_1\overline{x}_2\
&=(x_1+\overline{x}_1)x_2+\overline{x}_1(\overline{x}_2+x_2)\
&=x_2+\overline{x}_1
\end{align}
$$</p><p>直接用定理化简并不直观，所以后面我们会介绍另一种方法叫“卡诺图”。</p><h3 id=积的和和的积>积的和、和的积</h3><p>下面我们将用专业术语来描述逻辑函数综合的过程。为了方便描述，我们将“与”看作乘，“或”看作除</p><h4 id=最小项>最小项</h4><p>如果一个函数有 $n$ 个变量，则包含这 $n$ 个变量的乘积称为 <strong>最小项（Minterm）</strong>，变量可能是 $x_i$ 或 $\overline{x}_i$。真值表中的每一行都可以用一个最小项来表示。</p><table><thead><tr><th style=text-align:center>行号</th><th style=text-align:center>$x_1,x_2,x_3$</th><th style=text-align:center>Minterm</th></tr></thead><tbody><tr><td style=text-align:center>0</td><td style=text-align:center>0 0 0</td><td style=text-align:center>$m_0=\overline{x}_1 \overline{x}_2 \overline{x}_3$</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>0 0 1</td><td style=text-align:center>$m_1=\overline{x}_1 \overline{x}_2 x_3$</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>0 1 0</td><td style=text-align:center>$m_2=\overline{x}_1 x_2 \overline{x}_3$</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>0 1 1</td><td style=text-align:center>$m_3=\overline{x}_1 x_2 x_3$</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>1 0 0</td><td style=text-align:center>$m_4=x_1 \overline{x}_2 \overline{x}_3$</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center>1 0 1</td><td style=text-align:center>$m_5=x_1 \overline{x}_2 x_3$</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center>1 1 0</td><td style=text-align:center>$m_6=x_1 x_2 \overline{x}_3$</td></tr><tr><td style=text-align:center>7</td><td style=text-align:center>1 1 1</td><td style=text-align:center>$m_7=x_1 x_2 x_3$</td></tr></tbody></table><h4 id=积的和>积的和</h4><p>任何逻辑表达式可以用最小项的和来表示，即 <strong>积的和（sum-of-products）</strong>。如果我们给真值表的每一行编号，并将对应的最小值记为 $m_i$，则逻辑表达式 $f$ 可以用如下形式表示：</p><p>$$
f(x_1,x_2,x_3) = \sum (m_i)
$$</p><p>或</p><p>$$
f(x_1,x_2,x_3) = \sum m(i)
$$</p><p>其中，$i$ 是真值表中，$f=1$ 的行。</p><h4 id=最大项>最大项</h4><p>根据对偶定理，如果一个逻辑表达式 $f$ 可以用真值表中 $f=1$ 的最小项的和来表示，那么也可以用真值表中 $f=0$ 的最大项的积来表示。最大项即包含所有变量的和的项，记为 $M_i$，见下表：</p><table><thead><tr><th style=text-align:center>行号</th><th style=text-align:center>$x_1,x_2,x_3$</th><th style=text-align:center>Maxterm</th></tr></thead><tbody><tr><td style=text-align:center>0</td><td style=text-align:center>0 0 0</td><td style=text-align:center>$M_0=x_1+ x_2+ x_3$</td></tr><tr><td style=text-align:center>1</td><td style=text-align:center>0 0 1</td><td style=text-align:center>$M_1=x_1+ x_2+ \overline{x}_3$</td></tr><tr><td style=text-align:center>2</td><td style=text-align:center>0 1 0</td><td style=text-align:center>$M_2=x_1+ \overline{x}_2+ x_3$</td></tr><tr><td style=text-align:center>3</td><td style=text-align:center>0 1 1</td><td style=text-align:center>$M_3=x_1+ \overline{x}_2+ \overline{x}_3$</td></tr><tr><td style=text-align:center>4</td><td style=text-align:center>1 0 0</td><td style=text-align:center>$M_4=\overline{x}_1+ x_2+ x_3$</td></tr><tr><td style=text-align:center>5</td><td style=text-align:center>1 0 1</td><td style=text-align:center>$M_5=\overline{x}_1+ x_2+ \overline{x}_3$</td></tr><tr><td style=text-align:center>6</td><td style=text-align:center>1 1 0</td><td style=text-align:center>$M_6=\overline{x}_1+ \overline{x}_2+ x_3$</td></tr><tr><td style=text-align:center>7</td><td style=text-align:center>1 1 1</td><td style=text-align:center>$M_7=\overline{x}_1+ \overline{x}_2+ \overline{x}_3$</td></tr></tbody></table><p>注意每一行的最大项和最小项中是相反的，比如 $m_0=\overline{x}_1 \overline{x}_2 \overline{x}_3$，$M_0=x_1+ x_2+ x_3$，满足 $m_0 = \overline{M}_0$（德·摩根定律）</p><h4 id=和的积>和的积</h4><p>对于一个逻辑表达式 $f=\sum (m_i)$，其中 $m_i$ 为真值表中 $f=1$ 的行，则 $\overline{f}=\sum (m_j)$，$j$ 为真值表中 $f=0$ 的行。于是我们有：</p><p>$$
\overline{\overline{f}} = \sum (\overline{m}_j)
$$</p><p>根据德·摩根定理，$\overline{m_j} = M_j$，因此，我们有：</p><p>$$
f = \overline{\overline{f}} = \prod (M_j)
$$</p><p>或</p><p>$$
f= \prod M(j)
$$</p><p>其中，$j$ 为真值表中 $f=0$ 的行。</p><h4 id=用与或非表示积的和和的积>用与/或/非表示积的和、和的积</h4><p>（略）</p><h3 id=只包含-nand-或-nor-的逻辑电路>只包含 NAND 或 NOR 的逻辑电路</h3><p>上面描述了如何用与/或/非门来综合逻辑表达式，实际上，只用与非 NAND ，或只用或非 NOR，也可以实现。</p><p>与非、或非相比于与、或的最大好处是，它们的底层晶体管结构更加简单。</p><p>下面来描述如何只用与非/或非来实现逻辑表达式。对于一个积的和</p><p>$$
f = \sum (m_i)
$$</p><p>根据德·摩根定理，有：</p><p>$$
f = \overline{\prod (\overline{m}_i)}
$$</p><p>那么就可以只用与非来实现。用图可能更好理解：</p><p><img src=images/logic%20circuit%20with%20nand%20gate.svg alt="logic circuit with nand gate"></p><p>同理，对于一个和的积，我们有：</p><p>$$
\begin{align}
f &= \prod (M_i)\
&= \overline{\sum (\overline{M}_i)}
\end{align}
$$</p><p><img src=images/logic%20circuit%20with%20nor%20gate.svg alt="logic circuit with nor gate"></p><p>对于某些最小项、最大项，可能需要对变量取反，我们也可以利用 NAND/NOR 来实现 NOT</p><p><img src=images/use%20nand%20nor%20as%20not.svg alt="use nand nor as not"></p><h2 id=设计示例>设计示例</h2><h3 id=双输入选择器>双输入选择器</h3><p>功能：两个输入 $x_1,x_2$，开关 $s$ 控制输出 $f$ 等于哪个输入，即：</p><p>$$
f =
\begin{cases}
x_1 & s=0\
x_2 & s=1
\end{cases}
$$</p><p>列出真值表：</p><table><thead><tr><th style=text-align:center>$s,x_1,x_2$</th><th style=text-align:center>$f$</th></tr></thead><tbody><tr><td style=text-align:center>0 0 0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>0 0 1</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>0 1 0</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>0 1 1</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 0 0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>1 0 1</td><td style=text-align:center>1</td></tr><tr><td style=text-align:center>1 1 0</td><td style=text-align:center>0</td></tr><tr><td style=text-align:center>1 1 1</td><td style=text-align:center>1</td></tr></tbody></table><p>写出积的和：</p><p>$$
f=\overline{s}x_1\overline{x}_2+\overline{s}x_1x_2+s\overline{x}_1x_2+sx_1x_2
$$</p><p>利用分配律，可以写成：</p><p>$$
\begin{align}
f&=\overline{s}x_1(\overline{x}_2+x_2)+sx_2(\overline{x}_1+x_1)\
&=\overline{s}x_1+sx_2
\end{align}
$$</p><p>可以推广到 $n$ 路选择器：</p><p>$$
f = \sum m_{si}x_i
$$</p><p>$m_{si}$ 为由选择信号组成的最小项，$x_i$ 为某组选择信号有效时的输出。</p><h2 id=cad工具简介>CAD工具简介</h2><p>上面所列举的逻辑电路比较简单，人手可以简化，但如果系统比较复杂，那么就必须用 CAD（Computer Aid Design），CAD 工具会完成如下几个任务：</p><ul><li>design entry</li><li>logic synthesis & optimization</li><li>simulation</li><li>physical design</li></ul><div class="goat svg-container"><svg xmlns="http://www.w3.org/2000/svg" font-family="Menlo,Lucida Console,monospace" viewBox="0 0 336 777"><g transform="translate(8,16)"><path d="M104 0H248" fill="none" stroke="currentcolor"/><path d="M104 32h72" fill="none" stroke="currentcolor"/><path d="M176 32h72" fill="none" stroke="currentcolor"/><path d="M0 64H176" fill="none" stroke="currentcolor"/><path d="M40 112H320" fill="none" stroke="currentcolor"/><path d="M72 144H192" fill="none" stroke="currentcolor"/><path d="M256 144h32" fill="none" stroke="currentcolor"/><path d="M72 176h48" fill="none" stroke="currentcolor"/><path d="M120 176h72" fill="none" stroke="currentcolor"/><path d="M256 176h16" fill="none" stroke="currentcolor"/><path d="M272 176h16" fill="none" stroke="currentcolor"/><path d="M40 192h80" fill="none" stroke="currentcolor"/><path d="M120 192H272" fill="none" stroke="currentcolor"/><path d="M272 192h48" fill="none" stroke="currentcolor"/><path d="M152 208h80" fill="none" stroke="currentcolor"/><path d="M120 224h24" fill="none" stroke="currentcolor"/><path d="M240 224h32" fill="none" stroke="currentcolor"/><path d="M152 240h40" fill="none" stroke="currentcolor"/><path d="M192 240h40" fill="none" stroke="currentcolor"/><path d="M104 288H280" fill="none" stroke="currentcolor"/><path d="M104 320h88" fill="none" stroke="currentcolor"/><path d="M192 320h88" fill="none" stroke="currentcolor"/><path d="M0 384H48" fill="none" stroke="currentcolor"/><path d="M48 384h72" fill="none" stroke="currentcolor"/><path d="M40 432H192" fill="none" stroke="currentcolor"/><path d="M128 480H256" fill="none" stroke="currentcolor"/><path d="M128 512h64" fill="none" stroke="currentcolor"/><path d="M192 512h64" fill="none" stroke="currentcolor"/><path d="M120 560H264" fill="none" stroke="currentcolor"/><path d="M120 592h72" fill="none" stroke="currentcolor"/><path d="M192 592h72" fill="none" stroke="currentcolor"/><path d="M0 656H40" fill="none" stroke="currentcolor"/><path d="M40 656H88" fill="none" stroke="currentcolor"/><path d="M120 720H272" fill="none" stroke="currentcolor"/><path d="M120 752H272" fill="none" stroke="currentcolor"/><path d="M132 360h60" fill="none" stroke="currentcolor"/><path d="M192 360h60" fill="none" stroke="currentcolor"/><path d="M132 408H252" fill="none" stroke="currentcolor"/><path d="M1e2 632h92" fill="none" stroke="currentcolor"/><path d="M192 632H292" fill="none" stroke="currentcolor"/><path d="M1e2 680h92" fill="none" stroke="currentcolor"/><path d="M192 680H292" fill="none" stroke="currentcolor"/><path d="M0 64V224" fill="none" stroke="currentcolor"/><path d="M0 224V384" fill="none" stroke="currentcolor"/><path d="M0 384V576" fill="none" stroke="currentcolor"/><path d="M0 576v80" fill="none" stroke="currentcolor"/><path d="M40 112v80" fill="none" stroke="currentcolor"/><path d="M40 432V576" fill="none" stroke="currentcolor"/><path d="M40 576v80" fill="none" stroke="currentcolor"/><path d="M104 0V32" fill="none" stroke="currentcolor"/><path d="M104 288v32" fill="none" stroke="currentcolor"/><path d="M120 176v16" fill="none" stroke="currentcolor"/><path d="M120 192v32" fill="none" stroke="currentcolor"/><path d="M120 560v32" fill="none" stroke="currentcolor"/><path d="M120 720v32" fill="none" stroke="currentcolor"/><path d="M128 480v32" fill="none" stroke="currentcolor"/><path d="M152 208v32" fill="none" stroke="currentcolor"/><path d="M176 32V64" fill="none" stroke="currentcolor"/><path d="M176 64V96" fill="none" stroke="currentcolor"/><path d="M192 240v32" fill="none" stroke="currentcolor"/><path d="M192 320v32" fill="none" stroke="currentcolor"/><path d="M192 416v16" fill="none" stroke="currentcolor"/><path d="M192 432v32" fill="none" stroke="currentcolor"/><path d="M192 512v32" fill="none" stroke="currentcolor"/><path d="M192 592v32" fill="none" stroke="currentcolor"/><path d="M192 672v32" fill="none" stroke="currentcolor"/><path d="M232 208v32" fill="none" stroke="currentcolor"/><path d="M248 0V32" fill="none" stroke="currentcolor"/><path d="M256 480v32" fill="none" stroke="currentcolor"/><path d="M264 560v32" fill="none" stroke="currentcolor"/><path d="M272 176v16" fill="none" stroke="currentcolor"/><path d="M272 192v32" fill="none" stroke="currentcolor"/><path d="M272 720v32" fill="none" stroke="currentcolor"/><path d="M280 288v32" fill="none" stroke="currentcolor"/><path d="M320 112v80" fill="none" stroke="currentcolor"/><path d="M120 384l12-24" fill="none" stroke="currentcolor"/><path d="M88 656l12-24" fill="none" stroke="currentcolor"/><path d="M252 408l12-24" fill="none" stroke="currentcolor"/><path d="M292 680l12-24" fill="none" stroke="currentcolor"/><path d="M88 656l12 24" fill="none" stroke="currentcolor"/><path d="M120 384l12 24" fill="none" stroke="currentcolor"/><path d="M292 632l12 24" fill="none" stroke="currentcolor"/><path d="M252 360l12 24" fill="none" stroke="currentcolor"/><path d="M192 408v8" fill="none" stroke="currentcolor"/><path d="M192 680v8" fill="none" stroke="currentcolor"/><polygon points="8.000000,224.000000 -4.000000,218.399994 -4.000000,229.600006" fill="currentcolor" transform="rotate(270.000000, 0.000000, 224.000000)"/><polygon points="8.000000,576.000000 -4.000000,570.400024 -4.000000,581.599976" fill="currentcolor" transform="rotate(270.000000, 0.000000, 576.000000)"/><polygon points="48.000000,576.000000 36.000000,570.400024 36.000000,581.599976" fill="currentcolor" transform="rotate(270.000000, 40.000000, 576.000000)"/><polygon points="56.000000,384.000000 44.000000,378.399994 44.000000,389.600006" fill="currentcolor" transform="rotate(180.000000, 48.000000, 384.000000)"/><polygon points="152.000000,224.000000 140.000000,218.399994 140.000000,229.600006" fill="currentcolor" transform="rotate(0.000000, 144.000000, 224.000000)"/><path d="M176 96v8" fill="none" stroke="currentcolor"/><polygon points="192.000000,96.000000 180.000000,90.400002 180.000000,101.599998" fill="currentcolor" transform="rotate(90.000000, 176.000000, 96.000000)"/><path d="M192 272v8" fill="none" stroke="currentcolor"/><polygon points="208.000000,272.000000 196.000000,266.399994 196.000000,277.600006" fill="currentcolor" transform="rotate(90.000000, 192.000000, 272.000000)"/><polygon points="200.000000,352.000000 188.000000,346.399994 188.000000,357.600006" fill="currentcolor" transform="rotate(90.000000, 192.000000, 352.000000)"/><path d="M192 464v8" fill="none" stroke="currentcolor"/><polygon points="208.000000,464.000000 196.000000,458.399994 196.000000,469.600006" fill="currentcolor" transform="rotate(90.000000, 192.000000, 464.000000)"/><path d="M192 544v8" fill="none" stroke="currentcolor"/><polygon points="208.000000,544.000000 196.000000,538.400024 196.000000,549.599976" fill="currentcolor" transform="rotate(90.000000, 192.000000, 544.000000)"/><polygon points="200.000000,624.000000 188.000000,618.400024 188.000000,629.599976" fill="currentcolor" transform="rotate(90.000000, 192.000000, 624.000000)"/><path d="M192 704v8" fill="none" stroke="currentcolor"/><polygon points="208.000000,704.000000 196.000000,698.400024 196.000000,709.599976" fill="currentcolor" transform="rotate(90.000000, 192.000000, 704.000000)"/><polygon points="248.000000,224.000000 236.000000,218.399994 236.000000,229.600006" fill="currentcolor" transform="rotate(180.000000, 240.000000, 224.000000)"/><path d="M72 144A16 16 0 0056 160" fill="none" stroke="currentcolor"/><path d="M192 144a16 16 0 0116 16" fill="none" stroke="currentcolor"/><path d="M256 144a16 16 0 00-16 16" fill="none" stroke="currentcolor"/><path d="M288 144a16 16 0 0116 16" fill="none" stroke="currentcolor"/><path d="M56 160a16 16 0 0016 16" fill="none" stroke="currentcolor"/><path d="M208 160a16 16 0 01-16 16" fill="none" stroke="currentcolor"/><path d="M240 160a16 16 0 0016 16" fill="none" stroke="currentcolor"/><path d="M304 160a16 16 0 01-16 16" fill="none" stroke="currentcolor"/><text text-anchor="middle" x="64" y="644" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="72" y="164" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="72" y="644" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="80" y="164" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="88" y="164" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="96" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="96" y="372" fill="currentcolor" style="font-size:1em">N</text><text text-anchor="middle" x="104" y="164" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="104" y="372" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="104" y="660" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="112" y="20" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="112" y="164" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="112" y="308" fill="currentcolor" style="font-size:1em">F</text><text text-anchor="middle" x="112" y="660" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="120" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="120" y="164" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="120" y="308" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="120" y="660" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="128" y="20" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="128" y="164" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="128" y="308" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="128" y="580" fill="currentcolor" style="font-size:1em">T</text><text text-anchor="middle" x="128" y="660" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="128" y="740" fill="currentcolor" style="font-size:1em">C</text><text text-anchor="middle" x="136" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="136" y="164" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="136" y="308" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="136" y="388" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="136" y="500" fill="currentcolor" style="font-size:1em">P</text><text text-anchor="middle" x="136" y="580" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="136" y="660" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="136" y="740" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="144" y="20" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="144" y="132" fill="currentcolor" style="font-size:1em">D</text><text text-anchor="middle" x="144" y="308" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="144" y="388" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="144" y="500" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="144" y="580" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="144" y="660" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="144" y="740" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="152" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="152" y="132" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="152" y="164" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="152" y="308" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="152" y="388" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="152" y="500" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="152" y="580" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="152" y="740" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="160" y="132" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="160" y="164" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="160" y="228" fill="currentcolor" style="font-size:1em">S</text><text text-anchor="middle" x="160" y="308" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="160" y="388" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="160" y="420" fill="currentcolor" style="font-size:1em">Y</text><text text-anchor="middle" x="160" y="500" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="160" y="580" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="160" y="660" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="168" y="20" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="168" y="132" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="168" y="164" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="168" y="228" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="168" y="308" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="168" y="388" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="168" y="420" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="168" y="500" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="168" y="580" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="168" y="660" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="168" y="740" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="176" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="176" y="132" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="176" y="164" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="176" y="228" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="176" y="308" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="176" y="388" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="176" y="420" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="176" y="500" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="176" y="660" fill="currentcolor" style="font-size:1em">q</text><text text-anchor="middle" x="176" y="740" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="184" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="184" y="132" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="184" y="164" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="184" y="228" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="184" y="308" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="184" y="500" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="184" y="580" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="184" y="660" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="184" y="740" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="192" y="20" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="192" y="164" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="192" y="228" fill="currentcolor" style="font-size:1em">h</text><text text-anchor="middle" x="192" y="388" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="192" y="500" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="192" y="580" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="192" y="660" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="192" y="740" fill="currentcolor" style="font-size:1em">f</text><text text-anchor="middle" x="200" y="20" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="200" y="132" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="200" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="200" y="228" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="200" y="308" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="200" y="388" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="200" y="580" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="200" y="660" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="200" y="740" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="208" y="20" fill="currentcolor" style="font-size:1em">p</text><text text-anchor="middle" x="208" y="132" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="208" y="228" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="208" y="308" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="208" y="388" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="208" y="500" fill="currentcolor" style="font-size:1em">d</text><text text-anchor="middle" x="208" y="580" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="208" y="660" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="208" y="740" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="216" y="20" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="216" y="132" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="216" y="228" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="216" y="308" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="216" y="388" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="216" y="500" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="216" y="580" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="216" y="660" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="216" y="740" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="224" y="20" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="224" y="132" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="224" y="228" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="224" y="308" fill="currentcolor" style="font-size:1em">u</text><text text-anchor="middle" x="224" y="388" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="224" y="500" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="224" y="580" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="224" y="660" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="224" y="740" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="232" y="20" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="232" y="132" fill="currentcolor" style="font-size:1em">y</text><text text-anchor="middle" x="232" y="308" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="232" y="388" fill="currentcolor" style="font-size:1em">c</text><text text-anchor="middle" x="232" y="500" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="232" y="580" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="232" y="660" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="232" y="740" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="240" y="20" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="240" y="308" fill="currentcolor" style="font-size:1em">a</text><text text-anchor="middle" x="240" y="388" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="240" y="500" fill="currentcolor" style="font-size:1em">g</text><text text-anchor="middle" x="240" y="580" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="240" y="660" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="240" y="740" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="248" y="164" fill="currentcolor" style="font-size:1em">V</text><text text-anchor="middle" x="248" y="308" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="248" y="388" fill="currentcolor" style="font-size:1em">?</text><text text-anchor="middle" x="248" y="500" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="248" y="580" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="248" y="660" fill="currentcolor" style="font-size:1em">s</text><text text-anchor="middle" x="248" y="740" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="256" y="164" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="256" y="308" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="256" y="580" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="256" y="740" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="264" y="164" fill="currentcolor" style="font-size:1em">r</text><text text-anchor="middle" x="264" y="308" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="264" y="660" fill="currentcolor" style="font-size:1em">m</text><text text-anchor="middle" x="264" y="740" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="272" y="164" fill="currentcolor" style="font-size:1em">i</text><text text-anchor="middle" x="272" y="308" fill="currentcolor" style="font-size:1em">n</text><text text-anchor="middle" x="272" y="660" fill="currentcolor" style="font-size:1em">e</text><text text-anchor="middle" x="280" y="164" fill="currentcolor" style="font-size:1em">l</text><text text-anchor="middle" x="280" y="660" fill="currentcolor" style="font-size:1em">t</text><text text-anchor="middle" x="288" y="164" fill="currentcolor" style="font-size:1em">o</text><text text-anchor="middle" x="288" y="660" fill="currentcolor" style="font-size:1em">?</text><text text-anchor="middle" x="296" y="164" fill="currentcolor" style="font-size:1em">g</text></g></svg></div><h3 id=design-entry>Design Entry</h3><p>设计逻辑电路的第一步是决定该电路的功能和结构，这显然是由人来设计的。然后我们需要向 EDA 工具描述这个电路，也就是 design entry.</p><p>Design entry 有两种方式：</p><ul><li>Schematic Capture：通过画电路图，如逻辑门等，以图形化的方式描述<ul><li>优点：易于使用</li><li>缺点：难以描述大型电路</li></ul></li><li>Hardware Description Language：通过硬件描述语言，用代码来描述<ul><li>优点：可移植（不同工具都能用，无需改代码）、易读</li></ul></li></ul><p>这两种方式可以结合使用，我们可以用 HDL 描述底层逻辑，然后用 Schematic Capture 把各模块连接到一起。</p><p>我们所使用的 HDL 是 Verilog HDL</p><h3 id=logic-synthesis>Logic Synthesis</h3><p>综合就是由 design entry 设计出逻辑电路。一开始转换得到的逻辑电路并不是最简的，所以 CAD 会自动优化以获得更好的电路。</p><h3 id=functional-simulation>Functional Simulation</h3><p>对逻辑表达式进行模拟以验证功能的正确性。这要求用户指明输入的数据。输出的结果一般是时序图，用户可以检查它是否满足需求。</p><h3 id=physical-design>Physical Design</h3><p>从物理上设计实现综合得到的逻辑电路，确定各个功能在芯片上的位置。</p><h3 id=timing-simulation>Timing Simulation</h3><p>用电路实现的逻辑门会存在延迟，输入到输出存在 “propagation delay”（传播延迟）。时序仿真会考虑这些延迟。如果仿真结果不满足需求，我们需要在 physical design 时对 CAD 工具增加时序限制。如果还是不满足，则需要优化综合过程、甚至优化最开始的设计。</p><h3 id=circuit-implementation>Circuit Implementation</h3><p>如果一切都满足要求，那么就可以在实际芯片上实现电路（芯片制造或FPGA烧录）</p><h2 id=verilog-简介>Verilog 简介</h2><p>Verilog 中有多种描述目标电路的方式，一种是利用电路元件（比如逻辑门）来描述，称为 <strong>structural representation</strong>，另一种则是通过逻辑表达式来描述，称为 <strong>behavioral representation</strong></p><h3 id=structural-specification-of-logic-circuits>Structural Specification of Logic Circuits</h3><p>Verilog 包含一组门级的语句，比如一个双输入（$x_1,x_2$）单输出（$y$）的与门：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>and</span>(y, x1, x2)
</span></span></code></pre></div><p>四输入的或门：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>or</span>(y, x1, x2, x3, x4)
</span></span></code></pre></div><p>完整的门级语句见下表：</p><table><thead><tr><th style=text-align:center>名字</th><th style=text-align:center>描述</th><th style=text-align:center>用法</th></tr></thead><tbody><tr><td style=text-align:center>and</td><td style=text-align:center>$f=(a\cdot b \cdots)$</td><td style=text-align:center><code>and(f,a,b,...)</code></td></tr><tr><td style=text-align:center>nand</td><td style=text-align:center>$f=\overline{(a\cdot b \cdots)}$</td><td style=text-align:center><code>nand(f,a,b,...)</code></td></tr><tr><td style=text-align:center>or</td><td style=text-align:center>$f=(a+b+\cdots)$</td><td style=text-align:center><code>or(f,a,b,...)</code></td></tr><tr><td style=text-align:center>nor</td><td style=text-align:center>$f=\overline{(a+b+\cdots)}$</td><td style=text-align:center><code>nor(f,a,b,...)</code></td></tr><tr><td style=text-align:center>xor</td><td style=text-align:center>$f=(a\oplus b \oplus\cdots)$</td><td style=text-align:center><code>xor(f,a,b,...)</code></td></tr><tr><td style=text-align:center>not</td><td style=text-align:center>$f=\overline{a}$</td><td style=text-align:center><code>not(f,a)</code></td></tr><tr><td style=text-align:center>buf</td><td style=text-align:center>$f=a$</td><td style=text-align:center><code>buf(f,a)</code></td></tr><tr><td style=text-align:center>notif0()</td><td style=text-align:center>$f=(!e ? \overline{a}:&lsquo;bz)$</td><td style=text-align:center><code>notif0(f,a,e)</code></td></tr><tr><td style=text-align:center>notif1()</td><td style=text-align:center>$f=(e ? \overline{a}:&lsquo;bz)$</td><td style=text-align:center><code>notif1(f,a,e)</code></td></tr><tr><td style=text-align:center>bufif0()</td><td style=text-align:center>$f=(!e ? a:&lsquo;bz)$</td><td style=text-align:center><code>bufif0(f,a,e)</code></td></tr><tr><td style=text-align:center>bufif1()</td><td style=text-align:center>$f=(e ? a:&lsquo;bz)$</td><td style=text-align:center><code>bufif1(f,a,e)</code></td></tr></tbody></table><p>一个逻辑电路以 <code>module</code> 的形式定义，先指明端口（输入、输出），然后定义内部的逻辑语句。以下面这个选择器为例：</p><p><img src=images/2%20inputs%20multiplexer.svg alt="2 inputs multiplexer"></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>module</span> multiplexer(x1, x2, s, f)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>input</span> x1, x2, s;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>output</span> f;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>not</span>(k,s);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>and</span>(g,k,x1);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>and</span>(h,s,x2);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>or</span>(f,g,h);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><p>我们也可以用 <code>~x</code> 来表示取反，因此可以不用 <code>not</code>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>module</span> multiplexer(x1, x2, s, f)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>input</span> x1, x2, s;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>output</span> f;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>and</span>(g,<span style=color:#f92672>~</span>s,x1);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>and</span>(h,s,x2);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>or</span>(f,g,h);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><p>在 Veriog 中，输入、输出等量称为信号（Signal），信号和模块的命名都必须以字母开头，可以包含字母、<code>_</code>、<code>$</code>。Verilog 是大小写敏感的。</p><p>Verilog 的注释用 <code>//</code> 来表示。</p><h3 id=behavioral-specification-of-logic-circuits>Behavioral Specification of Logic Circuits</h3><p>用门级语句来描述电路太冗长了，我们可以用更简单的方式来描述，比如使用逻辑表达式</p><p>$$
f = \overline{s}x_1+ s x_2
$$</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>module</span> multiplexer(x1, x2, s, f)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>input</span> x1, x2, s;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>output</span> f;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> f<span style=color:#f92672>=</span>(<span style=color:#f92672>~</span>s$x1)<span style=color:#f92672>|</span>(s<span style=color:#f92672>&amp;</span>x2);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><p>在 Verilog 中，与、或分别是 <code>&</code> 和 <code>|</code>，<code>assign f=</code> 表示连续赋值（continuous assignment），即 <code>=</code> 右边的信号变化时，会重新计算 <code>=</code> 左边的信号。</p><p>这种方式能简化代码，但有一种更高级的抽象方法，即使用 <code>if-else</code> 语句：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>if</span>(s<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>  f<span style=color:#f92672>=</span>x1;
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>  f<span style=color:#f92672>=</span>x2;
</span></span></code></pre></div><p>这种方式更加直观地说明了电路的功能。<code>if-else</code> 属于 Verilog 中的流程语句（procedural statement），流程语句必须包裹在 <code>always</code> 块中，因此完整的模块应该是：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#75715e>// Behavioral specification
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>module</span> multiplexer(x1, x2, s, f)
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>input</span> x1, x2, s;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>output</span> f;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>ref</span> f;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>always</span>@(x1 <span style=color:#66d9ef>or</span> x2 <span style=color:#66d9ef>or</span> s)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(s<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>      f<span style=color:#f92672>=</span>x1;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>      f<span style=color:#f92672>=</span>x2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><p>always 块中可以有多条语句，一个模块中也可以有多个 always 块。always 块内的语句是按顺序执行的，相比之下，always块外部的连续赋值语句是并行执行的。</p><p>always @ 后面括号内的是 敏感表（sensitivity list），当敏感表内的信号变化时，always 内的语句才会执行。这样做的好处是在仿真的时候，就不需要每次都执行所有语句了。</p><p>如果在流程语句中对信号赋值，则 Verilog 要求这个信号被声明为一个变量，用 <code>reg</code> 来声明。reg 表示 register（寄存器），赋值结束后，在下一次 always 语句执行前，reg 会一直存储这个值。reg 可以和 output 一起使用，比如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>output</span> <span style=color:#66d9ef>reg</span> f;
</span></span></code></pre></div><p>另外，在 Verilog 2001 标准中，信号的方向和类型可以写在括号内。另外，敏感表内也可以用 <code>,</code> 代替 <code>or</code>：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#75715e>// Behavioral specification
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>module</span> multiplexer(<span style=color:#66d9ef>input</span> x1, x2, s, <span style=color:#66d9ef>output</span> <span style=color:#66d9ef>reg</span> f)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>always</span>@(x1, x2, s)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(s<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>)
</span></span><span style=display:flex><span>      f<span style=color:#f92672>=</span>x1;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>      f<span style=color:#f92672>=</span>x2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><p>还有，我们可以不用在敏感表中列出所有信号，而是用 <code>always@(*)</code> 或 <code>always@*</code> 让编译器自己找出哪些变量需要考虑。</p><h3 id=verilog-的层级>Verilog 的层级</h3><p>对于大型的电路，可以划分为不同层级的模块，高层级的模块调用低层级的模块。比如下图包含两个底层模块，一个负责运算（将输入相加）另一个负责显示</p><p><img src=images/A%20logic%20circuit%20with%20two%20modules.jpg alt="A logic circuit with two modules"></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#75715e>// An adder module
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>module</span> adder (a, b, s1, s0);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>input</span> a, b;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>output</span> s1, s0;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> s1 <span style=color:#f92672>=</span> a <span style=color:#f92672>&amp;</span> b;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> s0 <span style=color:#f92672>=</span> a <span style=color:#f92672>^</span> b;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#75715e>// A module for driving a 7-segment display
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>module</span> display (s1, s0, a, b, c, d, e, f, g);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>input</span> s1, s0;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>output</span> a, b, c, d, e, f, g;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> a <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>s0;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> b <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> c <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>s1;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> d <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>s0;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> e <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>s0;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> f <span style=color:#f92672>=</span> <span style=color:#f92672>~</span>s1 <span style=color:#f92672>&amp;</span> s0;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>assign</span> g <span style=color:#f92672>=</span> s1 <span style=color:#f92672>&amp;</span> s0;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-verilog data-lang=verilog><span style=display:flex><span><span style=color:#66d9ef>module</span> adder_display (x, y, a, b, c, d, e, f, g);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>input</span> x, y;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>output</span> a, b, c, d, e, f, g;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>wire</span> w1, w0;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  adder U1 (x, y, w1, w0);
</span></span><span style=display:flex><span>  display U2 (w1, w0, a, b, c, d, e, f, g);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span><span style=color:#66d9ef>endmodule</span>
</span></span></code></pre></div><p>在顶层模块中 <code>adder_display</code> 中，<code>w1, w0</code> 不是输入输出，而是中间的连线，所以声明为 <code>wire</code>。顶层模块内部实例化了一个 <code>adder</code> 和 <code>display</code>，分别命名为 <code>U1, U2</code>，并按照底层模块定义时的顺序在括号中传递信号。</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=/%E5%9F%BA%E7%A1%80/1-introduction/ title=Introduction><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=/%E5%9F%BA%E7%A1%80/2.1-strategy-for-minimization/ title="Strategy for Minimization" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=/js/clipboard.min.js?1666318554></script>
<script src=/js/perfect-scrollbar.min.js?1666318554></script>
<script src=/js/perfect-scrollbar.jquery.min.js?1666318554></script>
<script src=/js/jquery.sticky.js?1666318554></script>
<script src=/js/featherlight.min.js?1666318554></script>
<script src=/js/highlight.pack.js?1666318554></script>
<script>hljs.initHighlightingOnLoad()</script><script src=/js/modernizr.custom-3.6.0.js?1666318554></script>
<script src=/js/learn.js?1666318554></script>
<script src=/js/hugo-learn.js?1666318554></script>
<script src=https://unpkg.com/mermaid@8.8.0/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>